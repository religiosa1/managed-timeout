"use strict";var y=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var A=(s,e)=>{for(var r in e)y(s,r,{get:e[r],enumerable:!0})},C=(s,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let m of D(e))!F.call(s,m)&&m!==r&&y(s,m,{get:()=>e[m],enumerable:!(o=k(e,m))||o.enumerable});return s};var I=s=>C(y({},"__esModule",{value:!0}),s);var E=(s,e,r)=>{if(!e.has(s))throw TypeError("Cannot "+r)};var t=(s,e,r)=>(E(s,e,"read from private field"),r?r.call(s):e.get(s)),a=(s,e,r)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,r)},i=(s,e,r,o)=>(E(s,e,"write to private field"),o?o.call(s,r):e.set(s,r),r);var l=(s,e,r)=>(E(s,e,"access private method"),r);var j={};A(j,{Timeout:()=>x,callbackError:()=>S,default:()=>N,delayError:()=>P,repeatedStart:()=>L});module.exports=I(j);var v=class extends Error{constructor(r="The operation was aborted."){super(r);this.name="AbortError";this.code=20}};var S="Expeting to get a cb function as the first argument",P="Delay argument should be a number >= 0",L="Timeout was already started",n,h,u,d,b,f,g,c,T,p,w,x=class{constructor(e,r){a(this,c);a(this,p);a(this,n,"ready");a(this,h,void 0);a(this,u,void 0);a(this,d,void 0);a(this,b,void 0);a(this,f,null);a(this,g,null);let o=typeof e=="number"?e:r;if(typeof o!="number"||!Number.isInteger(o)||o<0)throw new Error(P);i(this,h,o),i(this,u,o),typeof e!="number"&&this.start(e)}get state(){return t(this,n)}get isPending(){return t(this,n)==="pending"||t(this,n)==="paused"}get isStarted(){return t(this,b)!=null}get isCanceled(){return t(this,n)==="cancelled"}get isFinished(){return t(this,n)==="resolved"}get isFinishedPreemptively(){return t(this,n)==="resolved"&&t(this,u)>0}get timeLeft(){var e;return t(this,n)!=="pending"?t(this,u):t(this,h)-(new Date().getTime()-((e=t(this,b))!=null?e:0))}get timePassed(){return t(this,h)-this.timeLeft}start(e){if(e!=null){if(typeof e!="function")throw new Error(S);return this.isPending?!1:(i(this,f,e),i(this,g,null),l(this,c,T).call(this),!0)}else return new Promise((r,o)=>{if(this.isPending)return o(new Error(L));i(this,f,()=>r(this)),i(this,g,m=>o(m)),l(this,c,T).call(this)})}cancel(){var e;return t(this,n)!=="pending"&&t(this,n)!=="paused"?!1:(l(this,p,w).call(this),i(this,n,"cancelled"),(e=t(this,g))==null||e.call(this,new v),!0)}execute(){var e;return t(this,n)==="resolved"||this.state==="cancelled"?!1:(l(this,p,w).call(this),i(this,n,"resolved"),(e=t(this,f))==null||e.call(this,this),!0)}pause(){return t(this,n)!=="pending"?!1:(l(this,p,w).call(this),i(this,n,"paused"),!0)}resume(){return t(this,n)!=="paused"?!1:(l(this,c,T).call(this),!0)}get paused(){return t(this,n)==="paused"}set paused(e){e?this.pause():this.resume()}reset(e){if(e==null&&(e=t(this,h)),typeof e!="number"||e<0)throw new Error(P);if(this.isStarted){if(!this.isPending)return!1;l(this,p,w).call(this),i(this,h,e),i(this,u,e),l(this,c,T).call(this)}else i(this,h,e),i(this,u,e);return!0}get delay(){return t(this,h)}};n=new WeakMap,h=new WeakMap,u=new WeakMap,d=new WeakMap,b=new WeakMap,f=new WeakMap,g=new WeakMap,c=new WeakSet,T=function(){i(this,b,new Date().getTime()),i(this,n,"pending"),i(this,d,setTimeout(()=>{var e;i(this,d,null),i(this,n,"resolved"),i(this,u,0),(e=t(this,f))==null||e.call(this,this)},t(this,u)))},p=new WeakSet,w=function(){t(this,d)&&(clearTimeout(t(this,d)),i(this,d,null)),i(this,u,this.timeLeft)};var N=x;0&&(module.exports={Timeout,callbackError,delayError,repeatedStart});
//# sourceMappingURL=timeout.js.map