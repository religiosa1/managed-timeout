var w=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var D=Object.prototype.hasOwnProperty;var F=(i,e)=>{for(var s in e)w(i,s,{get:e[s],enumerable:!0})},k=(i,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of L(e))!D.call(i,c)&&c!==s&&w(i,c,{get:()=>e[c],enumerable:!(o=S(e,c))||o.enumerable});return i};var C=i=>k(w({},"__esModule",{value:!0}),i);var P=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var t=(i,e,s)=>(P(i,e,"read from private field"),s?s.call(i):e.get(i)),a=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},n=(i,e,s,o)=>(P(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s);var l=(i,e,s)=>(P(i,e,"access private method"),s);var N={};F(N,{Timeout:()=>v,callbackError:()=>E,default:()=>I,delayError:()=>x,repeatedStart:()=>y});module.exports=C(N);var E="Expeting to get a cb function as the first argument",x="Delay argument should be a number >= 0",y="Timeout was already started",r,h,u,m,p,d,f,g,b,T,v=class{constructor(e,s){a(this,f);a(this,b);a(this,r,"ready");a(this,h,void 0);a(this,u,void 0);a(this,m,void 0);a(this,p,void 0);a(this,d,void 0);let o=typeof e=="number"?e:s;if(!Number.isInteger(o)||o<0)throw new Error(x);n(this,h,o),n(this,u,o),typeof e!="number"&&this.start(e)}get state(){return t(this,r)}get isPending(){return t(this,r)==="pending"||t(this,r)==="paused"}get isStarted(){return t(this,p)!=null}get isCanceled(){return t(this,r)==="cancelled"}get isFinished(){return t(this,r)==="resolved"}get isFinishedPreemptively(){return t(this,r)==="resolved"&&t(this,u)>0}get timeLeft(){return t(this,r)!=="pending"?t(this,u):t(this,h)-(new Date().getTime()-t(this,p))}get timePassed(){return t(this,h)-this.timeLeft}start(e){if(e!=null){if(typeof e!="function")throw new Error(E);return this.isPending?!1:(n(this,d,e),l(this,f,g).call(this),!0)}else return new Promise((s,o)=>{if(this.isPending)return o(new Error(y));n(this,d,()=>s(this)),l(this,f,g).call(this)})}cancel(){return t(this,r)!=="pending"&&t(this,r)!=="paused"?!1:(l(this,b,T).call(this),n(this,r,"cancelled"),!0)}execute(){var e;return t(this,r)==="resolved"&&this.state==="cancelled"?!1:(l(this,b,T).call(this),n(this,r,"resolved"),(e=t(this,d))==null||e.call(this,this),!0)}pause(){return t(this,r)!=="pending"?!1:(l(this,b,T).call(this),n(this,r,"paused"),!0)}resume(){return t(this,r)!=="paused"?!1:(l(this,f,g).call(this),!0)}get paused(){return t(this,r)==="paused"}set paused(e){e?this.pause():this.resume()}reset(e){if(e==null&&(e=t(this,h)),typeof e!="number"||e<0)throw new Error(x);if(this.isStarted){if(!this.isPending)return!1;l(this,b,T).call(this),n(this,h,e),n(this,u,e),l(this,f,g).call(this)}else n(this,h,e),n(this,u,e);return!0}get delay(){return t(this,h)}};r=new WeakMap,h=new WeakMap,u=new WeakMap,m=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakSet,g=function(){n(this,p,new Date().getTime()),n(this,r,"pending"),n(this,m,setTimeout(()=>{n(this,m,null),n(this,r,"resolved"),n(this,u,0),t(this,d).call(this,this)},t(this,u)))},b=new WeakSet,T=function(){t(this,m)&&(clearTimeout(t(this,m)),n(this,m,null)),n(this,u,this.timeLeft)};var I=v;0&&(module.exports={Timeout,callbackError,delayError,repeatedStart});
//# sourceMappingURL=timeout.js.map